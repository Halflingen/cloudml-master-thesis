\begin{figure}[tb]
  \begin{sequencediagram}
    \newthread{u}{:User}
    \newthreadhack{c}{:CloudML}
    \newinst{r}{r:RuntimeInstance}
    \newinst{a}{:CC}

    \begin{call}{u}{build(\texttt{account},List(\texttt{template}))}{c}{List(\texttt{r})}
      \begin{call}{c}{Initialize()}{r}{}
      \end{call}
    \end{call}

    \begin{call}{u}{getStatus()}{r}{\emph{"Configuring"}}
    \end{call}
    \begin{messcall}{c}{update(\emph{"Building"})}{r}
    \end{messcall}
    \begin{call}{c}{buildTemplates(\texttt{r})}{a}{}
    \end{call}
    \begin{call}{u}{getStatus()}{r}{\emph{"Building"}}
    \end{call}
    \begin{messcall}{c}{update(\emph{"Starting"})}{r}
    \end{messcall}
    
    \begin{call}{c}{provision(\texttt{r})}{a}{}
      \begin{call}{u}{getStatus()}{r}{\emph{"Starting"}}
      \end{call}
    \end{call}
    
    \begin{messcall}{c}{update(\emph{"Started"})}{r}
    \end{messcall}
    
    
    \begin{call}{u}{getStatus()}{r}{\emph{"Started"}}
    \end{call}
  \end{sequencediagram}
  
  \caption{CloudML asynchronous provisioning process (Sequence diagram).}
  \label{fig:sequence-singlenode}
\end{figure}
